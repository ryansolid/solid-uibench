!function(){"use strict";var t=function(t,e){var n=new r(t,e);return function(){return n.current()}};Object.defineProperty(t,"default",{value:t}),t.root=function(t){var e=p,n=0===t.length?g:new r(null,null),o=void 0,l=0===t.length?null:function(){null!==d?f.disposes.add(n):S(n)};return p=n,null===d?o=function(t,e,n){try{return null===e?t():t(e)}finally{p=n}}(t,l,e):(o=null===l?t():t(l),p=e),o},t.on=function(e,n,o,r){var l;return Array.isArray(e)&&(l=e,e=function(){for(var t=0;t<l.length;t++)l[t]()}),r=!!r,t(i,o);function i(t){var o=h;return e(),r?r=!1:(h=null,t=n(t),h=o),t}},t.effect=function(t,e){new r(t,e)},t.data=function(t){var e=new o(t);return function(t){return 0===arguments.length?e.current():e.next(t)}},t.value=function(e,n){var o=t.data(e),r=-1;return function(t){if(0===arguments.length)return o();if(!(n?n(e,t):e===t)){var l=f.time;if(r===l)throw new Error("conflicting values: "+t+" is not the same as "+e);r=l,e=t,o(t)}return t}},t.freeze=function(t){var e=void 0;if(null!==d)e=t();else{(d=f).changes.reset();try{e=t(),m()}finally{d=null}}return e},t.sample=function(t){var e,n=h;return null!==n?(h=null,e=t(),h=n):e=t(),e},t.cleanup=function(t){null!==p?null===p.cleanups?p.cleanups=[t]:p.cleanups.push(t):console.warn("cleanups created without a root or parent will never be run")},t.makeDataNode=function(t){return new o(t)},t.makeComputationNode=function(t,e){return new r(t,e)},t.isFrozen=function(){return null!==d},t.isListening=function(){return null!==h};var e=function(){return function(){this.time=0,this.changes=new i,this.updates=new i,this.disposes=new i}}(),n={time:function(){return f.time}},o=function(){function t(t){this.value=t,this.pending=u,this.log=null}return t.prototype.current=function(){return null!==h&&function(t,e){null===t.log&&(t.log=new l);y(t.log,e)}(this,h),this.value},t.prototype.next=function(t){if(null!==d)if(this.pending!==u){if(t!==this.pending)throw new Error("conflicting changes: "+t+" !== "+this.pending)}else this.pending=t,f.changes.add(this);else null!==this.log?(this.pending=t,f.changes.add(this),m()):this.value=t;return t},t.prototype.clock=function(){return n},t}(),r=function(){function t(t,e){if(this.state=s,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=t,this.value=e,this.age=f.time,null!==t){var n=p,o=h;null===n&&console.warn("computations created without a root or parent will never be disposed"),p=h=this,null===d?function(t){d=f,f.changes.reset(),f.updates.reset();try{t.value=t.fn(t.value),(f.changes.count>0||f.updates.count>0)&&(f.time++,v(f))}finally{d=p=h=null}}(this):this.value=this.fn(this.value),n&&n!==g&&(null===n.owned?n.owned=[this]:n.owned.push(this)),p=n,h=o}}return t.prototype.current=function(){if(null!==h){if(this.age===f.time){if(this.state===a)throw new Error("circular dependency");A(this)}!function(t,e){null===t.log&&(t.log=new l);y(t.log,e)}(this,h)}return this.value},t.prototype.clock=function(){return n},t}(),l=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),i=function(){function t(){this.items=[],this.count=0}return t.prototype.reset=function(){this.count=0},t.prototype.add=function(t){this.items[this.count++]=t},t.prototype.run=function(t){for(var e=this.items,n=0;n<this.count;n++)t(e[n]),e[n]=null;this.count=0},t}(),u={},s=0,c=1,a=2,f=new e,d=null,h=null,p=null,g=new r(null,null);function y(t,e){var n,o=null===e.source1?-1:null===e.sources?0:e.sources.length;null===t.node1?(t.node1=e,t.node1slot=o,n=-1):null===t.nodes?(t.nodes=[e],t.nodeslots=[o],n=0):(n=t.nodes.length,t.nodes.push(e),t.nodeslots.push(o)),null===e.source1?(e.source1=t,e.source1slot=n):null===e.sources?(e.sources=[t],e.sourceslots=[n]):(e.sources.push(t),e.sourceslots.push(n))}function m(){var t=p;f.updates.reset(),f.time++;try{v(f)}finally{d=h=null,p=t}}function v(t){var e=d,n=0;for(d=t,t.disposes.reset();0!==t.changes.count||0!==t.updates.count||0!==t.disposes.count;)if(n>0&&t.time++,t.changes.run(b),t.updates.run(A),t.disposes.run(S),n++>1e5)throw new Error("Runaway clock detected");d=e}function b(t){t.value=t.pending,t.pending=u,t.log&&w(t.log)}function w(t){var e=t.node1,n=t.nodes;if(null!==e&&C(e),null!==n)for(var o=0,r=n.length;o<r;o++)C(n[o])}function C(t){var e=f.time;t.age<e&&(t.age=e,t.state=c,f.updates.add(t),null!==t.owned&&function t(e){for(var n=0;n<e.length;n++){var o=e[n];o.age=f.time,o.state=s,null!==o.owned&&t(o.owned)}}(t.owned),null!==t.log&&w(t.log))}function A(t){if(t.state===c){var e=p,n=h;p=h=t,t.state=a,N(t,!1),t.value=t.fn(t.value),t.state=s,p=e,h=n}}function N(t,e){var n,o,r=t.source1,l=t.sources,i=t.sourceslots,u=t.cleanups,s=t.owned;if(null!==u){for(n=0;n<u.length;n++)u[n](e);t.cleanups=null}if(null!==s){for(n=0;n<s.length;n++)S(s[n]);t.owned=null}if(null!==r&&(x(r,t.source1slot),t.source1=null),null!==l)for(n=0,o=l.length;n<o;n++)x(l.pop(),i.pop())}function x(t,e){var n,o,r=t.nodes,l=t.nodeslots;-1===e?t.node1=null:(n=r.pop(),o=l.pop(),e!==r.length&&(r[e]=n,l[e]=o,-1===o?n.source1slot=e:n.sourceslots[o]=e))}function S(t){t.fn=null,t.log=null,N(t,!0)}const T=t,k=t.root,E=t.sample,M=t.cleanup,L="__rGroup",j="nextSibling",O="previousSibling";let _=0;function H(t,e,n,o){if(Array.isArray(e)){if(!e.length)return;let r=(e=function t(e,n){for(let o=0,r=n.length;o<r;o++){let r=n[o];r instanceof Node?11===r.nodeType?t(e,r.childNodes):e.push(r):null==r||!0===r||!1===r||(Array.isArray(r)?t(e,r):"string"==typeof r?e.push(document.createTextNode(r)):e.push(document.createTextNode(r.toString())))}return e}([],e))[0];1!==e.length&&(r[L]=e[e.length-1][L]=o);for(let o=0;o<e.length;o++)n?t.insertBefore(e[o],n):t.appendChild(e[o]);return r}let r,l=typeof e;return"string"===l||"number"===l?e=document.createTextNode(e):11===e.nodeType&&(r=e.firstChild)&&r!==e.lastChild&&(r[L]=e.lastChild[L]=o),n?t.insertBefore(e,n):t.appendChild(e),r||e}function P(t,e,n){const o=t[L];if(o)for(t=t[e];t&&t[L]!==o;)t=t[e];return n?t:t[e]}function z(t,e,n){let o;for(;e!==n;)o=e.nextSibling,t.removeChild(e),e=o}function B(t,e,n,o){return n?(Array.isArray(e)?o=e[0]:null!=e&&""!=e&&void 0===o&&(o=P(n.previousSibling,O,!0)),o&&z(t,o,n),""):t.textContent=""}function R(t,e,n,o){if(e===n)return n;t=o&&o.parentNode||t;const r=typeof e;if("string"===r||"number"===r)if("number"===r&&(e=e.toString()),o){if(""===e)B(t,n,o);else if(""!==n&&"string"==typeof n)o.previousSibling.data=e;else{const r=document.createTextNode(e);""!==n&&null!=n?t.replaceChild(r,o.previousSibling):t.insertBefore(r,o)}n=e}else n=""!==n&&"string"==typeof n?t.firstChild.data=e:t.textContent=e;else if(null==e||"boolean"===r)n=B(t,n,o);else if("function"===r)T(function(){n=R(t,e(),n,o)});else{if(!(e instanceof Node||Array.isArray(e)))throw new Error("content must be Node, stringable, or array of same");B(t,n,o),H(t,e,o,++_),n=e}return n}function D(t,e,n,o){if("function"!=typeof e)return R(t,e,n,o);T((r=n)=>R(t,e(),r,o))}const F=new Set;function q(t){return t&&(t.model||q(t.host||t.parentNode))}function G(t){const e=`__${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get:()=>n});null!==n;){const o=n[e];if(o){if(o(t,o.length>1?q(n):void 0),t.cancelBubble)return}n=n.host&&n.host instanceof Node?n.host:n.parentNode}}function J(t,e,n,o){let r;for(;e!==n;)r=e.nextSibling,t.insertBefore(e,o),e=r}function $(t,e){let n;(n=t.get(e))&&n(),t.delete(e)}function I(t,e){let n=-1,o=t.length;if(o>0&&t[o-1]<=e)return o-1;for(;o-n>1;){let r=Math.floor((n+o)/2);t[r]>e?o=r:n=r}return n}function K(t,e,n,o,r){let l=new Map,i=!1,u=r?r.previousSibling:null;const{afterRender:s,fallback:c}=o;function a(e,o,r){return k(i=>{const u=H(t,n(e,o),r,++_);return l.set(u,i),u})}function f(){s&&s(u?u.nextSibling:t.firstChild,r)}function d(){for(let t of l.keys())l.get(t)();l.clear()}M(d),T((n=[])=>{const o=e()||[];return E(()=>{t=r&&r.parentNode||t;const e=o.length;if(0===e||i){if(u||r){let e=u?u.nextSibling:t.firstChild;z(t,e,void 0===r?null:r)}else t.textContent="";if(d(),0===e)return f(),c&&(i=!0,k(e=>{const n=H(t,c(),r,++_);l.set(n,e)})),[];i=!1}if(0===n.length){for(let t=0;t<e;t++)a(o[t],t,r);return f(),o.slice(0)}let s,h,p=0,g=0,y=!0,m=n.length-1,v=e-1,b=u?u.nextSibling:t.firstChild,w=b,C=r?r.previousSibling:t.lastChild,A=r;t:for(;y;){let e;for(y=!1,s=n[p],h=o[g];s===h;){if(p++,g++,w=b=P(b,j),m<p||v<g)break t;s=n[p],h=o[g]}for(s=n[m],h=o[v];s===h;){if(m--,v--,C=(A=P(C,O,!0)).previousSibling,m<p||v<g)break t;s=n[m],h=o[v]}for(s=n[m],h=o[g];s===h;){y=!0;let r=(e=P(C,O)).nextSibling;if(w!==r&&(J(t,r,C.nextSibling,w),C=e),g++,--m<p||v<g)break t;s=n[m],h=o[g]}for(s=n[p],h=o[v];s===h;){if(y=!0,e=P(b,j),b!==A){let n=e.previousSibling;J(t,b,e,A),A=n,b=e}if(v--,m<++p||v<g)break t;s=n[p],h=o[v]}}if(v<g){if(p<=m){let e,n;for(;p<=m;)e=(n=P(C,O,!0)).previousSibling,z(t,n,C.nextSibling),$(l,n),C=e,m--}return f(),o.slice(0)}if(m<p){if(g<=v)for(;g<=v;)a(o[g],g,A),g++;return f(),o.slice(0)}const N=new Array(v+1-g);for(let t=g;t<=v;t++)N[t]=-1;const x=new Map;for(let t=g;t<=v;t++)x.set(o[t],t);let S=0,T=[];for(let t=p;t<=m;t++)x.has(n[t])?(N[x.get(n[t])]=t,S++):T.push(t);if(0===S){const e=b!==t.firstChild||C!==t.lastChild;let n,r=b;for(A=C.nextSibling;r!==A;)n=P(r,j),$(l,r),e&&z(t,r,n),r=n,p++;!e&&(t.textContent="");for(let t=g;t<=v;t++)a(o[t],t,A);return f(),o.slice(0)}const E=function(t,e){let n=[],o=[],r=-1,l=new Array(t.length);for(let i=e,u=t.length;i<u;i++){let e=t[i];if(e<0)continue;let u=I(n,e);-1!==u&&(l[i]=o[u]),u===r?(n[++r]=e,o[r]=i):e<n[u+1]&&(n[u+1]=e,o[u+1]=i)}for(let t=o[r];r>=0;t=l[t],r--)n[r]=t;return n}(N,g),M=[];let L,B=b,R=E.length-1;for(let t=p;t<=m;t++)M[t]=B,B=P(B,j);for(let e=0;e<T.length;e++){let n=M[T[e]];z(t,n,P(n,j)),$(l,n)}for(let e=v;e>=g;e--)E[R]===e?(A=M[N[E[R]]],R--):(-1===N[e]?L=a(o[e],e,A):(L=M[N[e]],J(t,L,P(L,j),A)),A=L);return f(),o.slice(0)})})}const Q=Symbol("solid-node"),U=Symbol("solid-proxy");function V(t){return t[U]||(t[U]=new Proxy(t,Z))}function W(t){return null!==t&&"object"==typeof t&&(t.__proto__===Object.prototype||Array.isArray(t))}function X(t){let e,n,o;if(e=null!=t&&t._state)return e;if(!W(t))return t;if(Array.isArray(t)){Object.isFrozen(t)&&(t=t.slice(0));for(let e=0,r=t.length;e<r;e++)(n=X(o=t[e]))!==o&&(t[e]=n)}else{Object.isFrozen(t)&&(t=Object.assign({},t));let e=Object.keys(t);for(let r=0,l=e.length;r<l;r++)(n=X(o=t[e[r]]))!==o&&(t[e[r]]=n)}return t}function Y(t){let e=t[Q];return e||(t[Q]=e={}),e}const Z={get(e,n){if("_state"===n)return e;if(n===U||n===Q)return;const o=e[n],r=W(o);if(t.isListening()&&"function"!=typeof o){let l,i;r&&(l=Y(o))&&(i=l._self||(l._self=t.makeDataNode(void 0))).current(),(i=(l=Y(e))[n]||(l[n]=t.makeDataNode(void 0))).current()}return r?V(o):o},set:()=>!0,deleteProperty:()=>!0};function tt(t,e,n){if(n=X(n),t[e]===n)return;const o=Array.isArray(t)||!(e in t);void 0===n?delete t[e]:t[e]=n;let r,l=Y(t);(r=l[e])&&r.next(),o&&(r=l._self)&&r.next()}function et(t,e){const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const r=n[o];tt(t,r,e[r])}}function nt(t,e,n=[]){if(1===e.length){let o=e[0];if("function"==typeof o&&void 0===(o=o(V(t),n)))return;return void et(t,o)}const o=e.shift(),r=typeof o,l=Array.isArray(t);if(Array.isArray(o))for(let r=0;r<o.length;r++)nt(t,[o[r]].concat(e),n.concat([o[r]]));else if(l&&"function"===r)for(let r=0;r<t.length;r++)o(t[r],r)&&nt(t,[r].concat(e),n.concat([r]));else if(l&&"object"===r){const{from:r=0,to:l=t.length-1,by:i=1}=o;for(let o=r;o<=l;o+=i)nt(t,[o].concat(e),n.concat([o]))}else if(l&&"*"===o)for(let o=0;o<t.length;o++)nt(t,[o].concat(e),n.concat([o]));else if(1===e.length){let r=e[0];if("function"==typeof r){const e=t[o];r=r(W(e)?V(e):e,n.concat([o]))}W(t[o])&&W(r)&&!Array.isArray(r)?et(t[o],r):tt(t,o,r)}else nt(t[o],e,n.concat([o]))}function ot(t,e,n,o,r){let l=e[n];if(t===l)return;if(!W(t)||null==l)return void(t!==l&&tt(e,n,t));if(Array.isArray(t)){if(t.length&&l.length&&(!o||r&&null!=t[0][r])){let e,n,i,u,s,c,a,f,d=new Array(t.length),h=new Map;for(i=0,u=Math.min(l.length,t.length);i<u&&(l[i]===t[i]||r&&l[i][r]===t[i][r]);i++)ot(t[i],l,i,o,r);for(u=l.length-1,s=t.length-1;u>=0&&s>=0&&(l[u]===t[s]||r&&l[u][r]===t[s][r]);u--,s--)d[s]=l[u];for(a=new Array(s+1),n=s;n>=i;n--)c=t[n],f=r?c[r]:c,e=h.get(f),a[n]=void 0===e?-1:e,h.set(f,n);for(e=i;e<=u;e++)c=l[e],f=r?c[r]:c,void 0!==(n=h.get(f))&&-1!==n&&(d[n]=l[e],n=a[n],h.set(f,n));for(n=i;n<t.length;n++)d.hasOwnProperty(n)?(tt(l,n,d[n]),ot(t[n],l,n,o,r)):tt(l,n,t[n])}else for(let e=0,n=t.length;e<n;e++)ot(t[e],l,e,o,r);return void(l.length>t.length&&tt(l,"length",t.length))}const i=Object.keys(t);for(let e=0,n=i.length;e<n;e++)ot(t[i[e]],l,i[e],o,r);const u=Object.keys(l);for(let e=0,n=u.length;e<n;e++)void 0===t[u[e]]&&tt(l,u[e],void 0)}const{root:rt,cleanup:lt,sample:it,freeze:ut}=t,st=document.createElement("template"),ct=document.createElement("template"),at=document.createElement("template"),ft=document.createElement("template"),dt=document.createElement("template"),ht=document.createElement("template"),pt=document.createElement("template"),gt=document.createElement("template"),yt=document.createElement("template"),mt=document.createElement("template"),vt=document.createElement("template");st.innerHTML="<td class='TableCell'></td>",ct.innerHTML="<td class='TableCell'></td>",at.innerHTML="<table class='Table'><tbody></tbody></table>",ft.innerHTML="<tr></tr>",dt.innerHTML="<div class='Anim'></div>",ht.innerHTML="<div class='AnimBox'></div>",pt.innerHTML="<ul class='TreeNode'></ul>",gt.innerHTML="<li class='TreeLeaf'></li>",yt.innerHTML="<div class='Tree'></div>",mt.innerHTML="<div class='Main'></div>",vt.innerHTML="<pre></pre>";const bt=({data:t})=>{const e=(t,e)=>{console.log("Clicked"+e),t.stopPropagation()};return function(){const n=at.content.firstChild.cloneNode(!0);return K(n.firstChild,()=>t.items,t=>(function(){const n=ft.content.firstChild.cloneNode(!0);return T(()=>n.className=t.active?"TableRow active":"TableRow"),n.setAttribute("data-id",t.id),D(n,(t=>{const n=new Array(t.props.length+1);n[0]=function(){const e=st.content.firstChild.cloneNode(!0);return e.textContent="#"+t.id,e}();for(let o=1,r=n.length;o<r;o++){const r=t.props[o-1];n[o]=function(){const t=ct.content.firstChild.cloneNode(!0);return t.__click=e,t.model=r,t.textContent=r,t}()}return n})(t)),n})(),{}),n}()},wt=({data:t})=>(function(){const e=pt.content.firstChild.cloneNode(!0);return K(e,()=>t.children,t=>t.container?wt({data:t}):function(){const e=gt.content.firstChild.cloneNode(!0);return e.textContent=t.id,e}(),{}),e})(),Ct=({data:t})=>{const e=()=>{const e=t.location;return it(()=>"table"===e?bt({data:t.table}):"anim"===e?(({data:t})=>(function(){const e=dt.content.firstChild.cloneNode(!0);return K(e,()=>t.items,t=>(function(){const e=ht.content.firstChild.cloneNode(!0);return e.setAttribute("data-id",t.id),T(()=>Object.assign(e.style,{borderRadius:(t.time%10).toString()+"px",background:"rgba(0,0,0,"+(.5+t.time%10/10).toString()+")"})),e})(),{}),e})())({data:t.anim}):"tree"===e?(({data:t})=>(function(){const e=yt.content.firstChild.cloneNode(!0);return D(e,wt({data:t.root})),e})())({data:t.tree}):void 0)};return function(){const t=mt.content.firstChild.cloneNode(!0);return D(t,e),t}()};uibench.init("Solid","0.6.4");const[At,Nt]=function(e){return[V(e=X(e||{})),function(){const n=arguments;t.freeze(()=>{if(Array.isArray(n[0]))for(let t=0;t<n.length;t+=1)nt(e,n[t]);else nt(e,Array.prototype.slice.call(n))})}]}();rt(()=>document.querySelector("#App").appendChild(Ct({data:At}))),document.addEventListener("DOMContentLoaded",function(t){uibench.run(t=>Nt(function(t,e={}){let n;Array.isArray(t)?n=t.pop():"object"==typeof t?(n=t,t=void 0):(t=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],e={});const{merge:o,key:r="id"}=e;return e=>{if(e=X(e),t){for(let n=0;n<t.length-1;n+=1)e=e[t[n]];ot(n,e,t[t.length-1],o,r)}else ot(n,{state:e},"state",o,r)}}(t)),t=>{document.body.textContent="",document.body.appendChild(function(){const e=vt.content.firstChild.cloneNode(!0);return D(e,JSON.stringify(t,null," ")),e}())})}),function(t){for(let e=0,n=t.length;e<n;e++){const n=t[e];F.has(n)||(F.add(n),document.addEventListener(n,G))}}(["click"])}();
